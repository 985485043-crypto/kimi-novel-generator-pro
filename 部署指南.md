# Kimi 15000字小说生成器 - 完整部署指南

欢迎！本指南将帮助您在自己的电脑或服务器上部署这个小说生成应用。

---

## 📋 目录

1. [系统要求](#系统要求)
2. [方案 A：本地电脑部署（推荐新手）](#方案-a本地电脑部署推荐新手)
3. [方案 B：免费云端部署（推荐长期使用）](#方案-b免费云端部署推荐长期使用)
4. [常见问题](#常见问题)

---

## 系统要求

### 方案 A（本地部署）
- **操作系统**：Windows 10/11、macOS、Linux
- **需要安装**：Node.js 18+ 和 npm/pnpm
- **硬盘空间**：至少 2GB
- **网络**：需要网络连接（调用 Moonshot AI API）

### 方案 B（云端部署）
- **账号**：GitHub 账号（免费）+ Vercel 或 Railway 账号（免费）
- **网络**：需要网络连接

---

## 方案 A：本地电脑部署（推荐新手）

### 第 1 步：安装 Node.js

1. 访问 [Node.js 官方网站](https://nodejs.org/)
2. 下载 **LTS 版本**（推荐 18.x 或 20.x）
3. 双击安装程序，按照提示完成安装
4. **重要**：安装时勾选 "Add to PATH"

### 第 2 步：验证安装

打开 **命令提示符 (CMD)** 或 **PowerShell**（Windows 用户），输入以下命令：

```bash
node --version
npm --version
```

如果显示版本号（如 `v20.10.0`），说明安装成功。

### 第 3 步：解压源代码

1. 下载 `kimi_novel_generator_source.tar.gz` 文件
2. 使用 **7-Zip** 或 **WinRAR** 解压（Windows 用户）
   - 右键点击文件 → 选择 "解压到..."
   - 或者使用 **PowerShell**：
     ```bash
     tar -xzf kimi_novel_generator_source.tar.gz
     ```
3. 解压后得到 `kimi_novel_generator` 文件夹

### 第 4 步：安装依赖

打开 **命令提示符**，进入项目文件夹：

```bash
cd kimi_novel_generator
```

然后安装依赖（这会自动下载所有必要的库，需要几分钟）：

```bash
npm install
```

或者使用 pnpm（更快）：

```bash
npm install -g pnpm
pnpm install
```

### 第 5 步：配置数据库（可选，仅用于保存历史记录）

如果您想保存生成的小说历史记录，需要配置数据库。但对于初次使用，可以跳过此步。

### 第 6 步：启动应用

在同一个命令提示符窗口中，输入：

```bash
npm run dev
```

或使用 pnpm：

```bash
pnpm dev
```

您会看到类似的输出：

```
Server running on http://localhost:3000/
```

### 第 7 步：打开网站

1. 打开浏览器（Chrome、Firefox、Edge 等）
2. 访问 `http://localhost:3000`
3. 输入您的 Moonshot API Key 和小说标题
4. 点击"开始生成小说"

**就这样！应用现在在您的电脑上运行了。**

---

## 方案 B：免费云端部署（推荐长期使用）

### 第 1 步：准备 GitHub 账号

1. 访问 [GitHub 官方网站](https://github.com)
2. 点击 "Sign up"（注册）
3. 填写邮箱、密码、用户名
4. 完成邮箱验证

### 第 2 步：上传源代码到 GitHub

1. 在 GitHub 上创建新仓库：
   - 点击右上角 "+" → "New repository"
   - 仓库名称：`kimi-novel-generator`
   - 选择 "Public"（公开）
   - 点击 "Create repository"

2. 按照 GitHub 的指示上传代码（或使用 GitHub Desktop）

### 第 3 步：选择云端平台部署

#### 选项 1：使用 Vercel（推荐）

1. 访问 [Vercel 官方网站](https://vercel.com)
2. 点击 "Sign Up"，使用 GitHub 账号登录
3. 点击 "New Project"
4. 选择您上传的 `kimi-novel-generator` 仓库
5. 点击 "Deploy"

**部署完成后，您会获得一个公开链接，可以在任何地方访问。**

#### 选项 2：使用 Railway

1. 访问 [Railway 官方网站](https://railway.app)
2. 点击 "Start Project"，使用 GitHub 账号登录
3. 选择 "Deploy from GitHub"
4. 选择您的 `kimi-novel-generator` 仓库
5. 点击 "Deploy"

---

## 常见问题

### Q1：我不想用命令行，有没有更简单的方法？

**A**：可以的！您可以：
1. 使用 **Visual Studio Code**（免费代码编辑器）
2. 在 VS Code 中打开项目文件夹
3. 在 VS Code 的终端中运行 `npm run dev`
4. 这样就不需要单独打开命令提示符了

### Q2：部署后链接会一直有效吗？

**A**：
- **本地部署**：只要您的电脑开着，应用就可以访问（需要告诉别人您的电脑 IP）
- **云端部署**：链接永久有效，可以随时访问

### Q3：如何保存生成的小说？

**A**：
- 应用内有"下载小说"按钮，可以下载为 .txt 文件
- 如果配置了数据库，历史记录会自动保存

### Q4：我遇到了错误，怎么办？

**A**：请检查以下几点：
1. Node.js 是否正确安装？运行 `node --version` 检查
2. 依赖是否安装完成？运行 `npm install` 重新安装
3. Moonshot API Key 是否有效？访问 https://platform.moonshot.cn 检查
4. 是否有其他应用占用了 3000 端口？可以改为其他端口

### Q5：如何更新应用？

**A**：
1. 从我这里获取最新的源代码
2. 替换您本地的文件
3. 重新启动应用（按 Ctrl+C 停止，然后运行 `npm run dev`）

---

## 技术支持

如果您遇到任何问题，请提供以下信息：
1. 错误信息的完整文本
2. 您使用的操作系统
3. Node.js 版本（运行 `node --version`）
4. 您尝试过的解决方案

---

## 总结

| 方案 | 优点 | 缺点 | 适用场景 |
| :--- | :--- | :--- | :--- |
| **本地部署** | 简单、快速、完全控制 | 需要电脑一直开着 | 个人使用、测试 |
| **云端部署** | 永久在线、可随时访问、链接稳定 | 需要 GitHub 账号、稍微复杂 | 长期使用、分享给他人 |

**推荐：先尝试本地部署快速体验，然后根据需要选择云端部署。**

---

祝您使用愉快！如有任何问题，欢迎随时咨询。
